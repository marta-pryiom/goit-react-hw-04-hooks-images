{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","Service.js","components/Container/Container.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchItem","setSearchItem","reset","className","s","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormInput","onChange","target","value","autoComplete","autoFocus","placeholder","ImageGalleryItem","img","onModalClick","Item","src","webformatURL","alt","tags","onClick","ImageGallery","images","map","el","id","API_KEY","query","a","page","axios","get","hits","data","defaults","baseURL","Container","children","Button","Btn","Loader","props","width","height","viewBox","xmlns","fill","color","label","cx","cy","r","radius","attributeName","from","to","begin","dur","values","calcMode","repeatCount","defaultProps","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","ModalBackdrop","currentTarget","ModalContent","App","setImages","largeImage","setLargeImage","setPage","loading","setLoading","showModal","setShowModal","getImages","then","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","console","log","finally","toggleModal","length","fetchSearchItem","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.27632936.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2_JMU\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3oKQn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalBackdrop\":\"Modal_ModalBackdrop__2S8gF\",\"ModalContent\":\"Modal_ModalContent__TfC83\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item___qTOL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Btn\":\"Button_Btn__3dasa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2dGpZ\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\n// import PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [searchItem, setSearchItem] = useState('');\r\n\r\n  const handleInputSearch = e => {\r\n    setSearchItem(e.target.value);\r\n  };\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (searchItem.trim() === '') {\r\n      toast.error('Enter a word to search for!');\r\n      return;\r\n    }\r\n    onSubmit(searchItem);\r\n    reset();\r\n  };\r\n  const reset = () => {\r\n    setSearchItem('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          onChange={handleInputSearch}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","// import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\nexport default function ImageGalleryItem({ img, onModalClick }) {\r\n  return (\r\n    <>\r\n      <img\r\n        className={s.Item}\r\n        src={img.webformatURL}\r\n        alt={img.tags}\r\n        // data-url={img.largeImageURL}\r\n        onClick={() => onModalClick(img)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n// ImageGalleryItem.propTypes = {\r\n//   webformatURL: PropTypes.string.isRequired,\r\n//   tags: PropTypes.string.isRequired,\r\n//   largeImageURL: PropTypes.string.isRequired,\r\n// };\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, onModalClick }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(el => (\r\n        <li className={s.ImageGalleryItem} key={el.id}>\r\n          <ImageGalleryItem img={el} onModalClick={onModalClick} />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onModalClick: PropTypes.func,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '23024324-04436665e5646ea163d34a038';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport async function getImages(query, page = 1) {\r\n  const {\r\n    data: { hits },\r\n  } = await axios.get(`?&q=${query}&page=${page}&per_page=12&key=${API_KEY}`);\r\n  return hits;\r\n}\r\n","import s from './Container.module.css';\r\nexport default function Container({ children }) {\r\n  return <div className={s.Container}>{children}</div>;\r\n}\r\n","import s from './Button.module.css';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Btn} onClick={onClick} type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = props => (\r\n  <div id={s.Loader}>\r\n    <svg\r\n      width={props.width}\r\n      height={props.height}\r\n      viewBox=\"0 0 120 30\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill={props.color}\r\n      aria-label={props.label}\r\n    >\r\n      <circle cx=\"15\" cy=\"15\" r={props.radius + 6}>\r\n        <animate\r\n          attributeName=\"r\"\r\n          from=\"15\"\r\n          to=\"15\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\"15;9;15\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"fillOpacity\"\r\n          from=\"1\"\r\n          to=\"1\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\"1;.5;1\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle\r\n        cx=\"60\"\r\n        cy=\"15\"\r\n        r={props.radius}\r\n        attributeName=\"fillOpacity\"\r\n        from=\"1\"\r\n        to=\"0.3\"\r\n      >\r\n        <animate\r\n          attributeName=\"r\"\r\n          from=\"9\"\r\n          to=\"9\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\"9;15;9\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"fillOpacity\"\r\n          from=\"0.5\"\r\n          to=\"0.5\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\".5;1;.5\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"105\" cy=\"15\" r={props.radius + 6}>\r\n        <animate\r\n          attributeName=\"r\"\r\n          from=\"15\"\r\n          to=\"15\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\"15;9;15\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"fillOpacity\"\r\n          from=\"1\"\r\n          to=\"1\"\r\n          begin=\"0s\"\r\n          dur=\"0.8s\"\r\n          values=\"1;.5;1\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n    </svg>\r\n  </div>\r\n);\r\n\r\nLoader.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string,\r\n  radius: PropTypes.number,\r\n};\r\n\r\nLoader.defaultProps = {\r\n  height: 80,\r\n  width: 80,\r\n  color: 'purple',\r\n  label: 'audio-loading',\r\n  radius: 9,\r\n};\r\nexport default Loader;\r\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ children, onClose }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdrop = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.ModalBackdrop} onClick={handleBackdrop}>\r\n      <div className={s.ModalContent}>{children}</div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport { getImages } from '../../Service';\nimport Container from '../Container';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport Modal from '../Modal/Modal';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [searchItem, setSearchItem] = useState('');\n  const [largeImage, setLargeImage] = useState({});\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (searchItem === '') {\n      return;\n    }\n    setLoading(true);\n    const fetchSearchItem = () => {\n      getImages(searchItem, page)\n        .then(images => {\n          setImages(prev => [...prev, ...images]);\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => setLoading(false));\n    };\n\n    fetchSearchItem();\n  }, [page, searchItem]);\n\n  const handleFormSubmit = searchItem => {\n    setSearchItem(searchItem);\n    setPage(1);\n    setImages([]);\n  };\n  const handleBtnLoadMoreClick = fetchSearchItem => {\n    setLoading(true);\n    setPage(prev => prev + 1);\n    setLoading(false);\n  };\n  const toggleModal = () => {\n    setShowModal(!showModal);\n    // this.setState(({ showModal }) => ({\n    //   showModal: !showModal,\n    // }));\n  };\n  const onOpenImageClick = largeImage => {\n    setLoading(true);\n    setLargeImage(largeImage);\n    toggleModal();\n    setLoading(false);\n\n    // this.setState({\n    //   loading: true,\n    //   largeImage,\n    // });\n    // console.log(this.state.largeImage);\n    // this.toggleModal();\n    // this.setState({ loading: false });\n  };\n\n  return (\n    <Container>\n      <ToastContainer />\n      <Searchbar onSubmit={handleFormSubmit} />\n      {images.length !== 0 ? (\n        <ImageGallery images={images} onModalClick={onOpenImageClick} />\n      ) : (\n        searchItem !== '' && <h1>Nothing was found</h1>\n      )}\n      {loading && <Loader />}\n      {images.length > 0 && <Button onClick={handleBtnLoadMoreClick} />}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          {loading && <Loader />}\n          <img\n            src={largeImage.largeImageURL}\n            alt={largeImage.tags}\n            onClose={toggleModal}\n          />\n        </Modal>\n      )}\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__IOD9m\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1zi2-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1F8gQ\"};"],"sourceRoot":""}